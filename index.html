document.addEventListener("DOMContentLoaded", function () {
    // Toggle mobile menu
    function toggleMenu() {
        document.querySelector('.nav-links').classList.toggle('show');
    }
    
    // Assign the toggleMenu function to the menu toggle button
    const menuToggle = document.querySelector('.menu-toggle');
    if (menuToggle) {
        menuToggle.addEventListener('click', toggleMenu);
    }
    
    // Get all navigation links
    const navLinks = document.querySelectorAll('.nav-links a');
    
    // Add click event listeners to each nav link
    navLinks.forEach(link => {
        link.addEventListener('click', function(e) {
            // Get the target section from the href attribute
            const targetId = this.getAttribute('href');
            
            // If it's an anchor link (starts with #)
            if (targetId.startsWith('#')) {
                // Find the target element
                const targetElement = document.querySelector(targetId);
                
                if (targetElement) {
                    // Prevent default anchor behavior
                    e.preventDefault();
                    
                    // Scroll to the target section smoothly
                    targetElement.scrollIntoView({ 
                        behavior: 'smooth' 
                    });
                    
                    // Close mobile menu if it's open
                    document.querySelector('.nav-links').classList.remove('show');
                }
            }
        });
    });
    
    // Hearts animation code
    setInterval(createFallingHeart, 300);
    
    function createFallingHeart() {
        const heart = document.createElement("div");
        heart.innerHTML = "❤️";
        heart.classList.add("heart");
        document.body.appendChild(heart);
        heart.style.left = Math.random() * 100 + "vw";
        heart.style.fontSize = Math.random() * 20 + 10 + "px";
        heart.style.animationDuration = Math.random() * 2 + 3 + "s";
        setTimeout(() => {
            heart.remove();
        }, 5000);
    }
    
    // Function to create floating 3D hearts
    function createHearts() {
        const numberOfHearts = 20;
        const container = document.body;
        
        // Clear any existing hearts
        const existingHearts = document.querySelectorAll('.heart');
        existingHearts.forEach(heart => heart.remove());
        
        // Create new hearts
        for (let i = 0; i < numberOfHearts; i++) {
            const heart = document.createElement('div');
            heart.className = 'heart';
            heart.innerHTML = '<i class="fas fa-heart"></i>';
            
            // Random position
            const startX = Math.random() * window.innerWidth;
            const startY = window.innerHeight + (Math.random() * 100);
            
            // Random size
            const size = 10 + (Math.random() * 30);
            
            // Random animation duration
            const duration = 15 + (Math.random() * 15);
            const delay = Math.random() * 10;
            
            // Style the heart
            heart.style.left = `${startX}px`;
            heart.style.bottom = `-${startY}px`;
            heart.style.fontSize = `${size}px`;
            heart.style.animationDuration = `${duration}s`;
            heart.style.animationDelay = `${delay}s`;
            
            // Random rotation
            const rotation = Math.random() * 360;
            heart.style.transform = `perspective(500px) rotate(${rotation}deg)`;
            
            // Random color tint
            const hue = 340 + (Math.random() * 40); // shades of red and pink
            heart.style.color = `hsl(${hue}, 100%, 70%)`;
            
            // Add to document
            container.appendChild(heart);
        }
    }
    
    // Create hearts when page loads
    createHearts();
    
    // Recreate hearts periodically
    setInterval(createHearts, 30000);
});
